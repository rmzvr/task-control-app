"use strict";(self.webpackChunktask_control=self.webpackChunktask_control||[]).push([[175],{175:(Bt,k,a)=>{a.r(k),a.d(k,{BoardModule:()=>Jt});var c=a(6895),w=a(4466),P=a(294),f=a(529),x=a(3841),Z=a(3326),g=a(1101),u=a(3605),d=a(9051),l=a(6249),C=a(5489),t=a(4650),p=a(2997),D=a(7368),A=a(5123),m=a(7340),z=a(4627),b=a(492);let I=(()=>{class n{constructor(e){this.droppableService=e,this.activated=!1,this.entered=!1,this.default=!1,this.drop=new t.vpe}ngOnInit(){this.droppableService.dragStart$.subscribe(()=>this.onDragStart()),this.droppableService.dragEnd$.subscribe(e=>this.onDragEnd(e))}onMouseDown(){this.default=!0}onMouseUp(){this.default=!1}onPointerEnter(){!this.activated||(this.entered=!0)}onPointerOver(){!this.activated||(this.default=!0,this.entered=!0)}onPointerLeave(){!this.activated||(this.default=!1,this.entered=!1)}onDragStart(){this.activated=!0}onDragEnd(e){this.entered&&this.drop.emit(e),this.activated=!1,this.entered=!1,this.default=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.Y))},n.\u0275dir=t.lG2({type:n,selectors:[["","dropzone",""]],hostVars:6,hostBindings:function(e,o){1&e&&t.NdJ("mousedown",function(){return o.onMouseDown()})("mouseup",function(){return o.onMouseUp()})("pointerenter",function(){return o.onPointerEnter()})("pointerover",function(){return o.onPointerOver()})("pointerleave",function(){return o.onPointerLeave()}),2&e&&t.ekj("dropzone-activated",o.activated)("dropzone-entered",o.entered)("dropzone-default",o.default)},outputs:{drop:"drop"}}),n})();var F=a(119),J=a(5968),M=a(5746),B=a(4080);let O=(()=>{class n{constructor(e){this.element=e,this.draggable=!0,this.dragging=!1,this.entered=!1,this.dragStart=new t.vpe,this.dragMove=new t.vpe,this.dragEnd=new t.vpe}onPointerDown(e){e.stopPropagation(),this.timeout=setTimeout(()=>{this.dragging=!0,this.dragStart.emit(e)},170)}onMouseUp(){clearTimeout(this.timeout)}onPointerEnter(e){!this.draggable||(this.entered=!0)}onPointerMove(e){!this.dragging||this.dragMove.emit(e)}onPointerUp(e){clearTimeout(this.timeout),this.dragging&&(this.dragging=!1,this.dragEnd.emit(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","draggable",""],["","droppable",""]],hostVars:6,hostBindings:function(e,o){1&e&&t.NdJ("pointerdown",function(s){return o.onPointerDown(s)})("mouseup",function(s){return o.onMouseUp(s)})("pointerenter",function(s){return o.onPointerEnter(s)})("pointermove",function(s){return o.onPointerMove(s)},!1,t.evT)("pointerup",function(s){return o.onPointerUp(s)},!1,t.evT),2&e&&t.ekj("draggable",o.draggable)("dragging",o.dragging)("entered",o.entered)},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd"}}),n})(),U=(()=>{class n{constructor(e,o,r,s){this.templateRef=e,this.viewContainerRef=o,this.draggable=r,this.overlay=s,this.positionStrategy=new M.C4}ngOnInit(){this.draggable.dragStart.subscribe(e=>this.onDragStart(e)),this.draggable.dragMove.subscribe(e=>this.onDragMove(e)),this.draggable.dragEnd.subscribe(()=>this.onDragEnd()),this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,panelClass:"draggable-helper-overlay"})}ngOnDestroy(){this.overlayRef.dispose()}onDragStart(e){const r=this.draggable.element.nativeElement.getBoundingClientRect();this.overlayRef.hasAttached()||this.overlayRef.attach(new B.UE(this.templateRef,this.viewContainerRef)),this.startPosition={x:e.clientX-r.left,y:e.clientY-r.top},this.positionStrategy.left(e.clientX-this.startPosition.x+"px"),this.positionStrategy.top(e.clientY-this.startPosition.y+"px"),this.positionStrategy.apply()}onDragMove(e){this.positionStrategy.left(e.clientX-this.startPosition.x+"px"),this.positionStrategy.top(e.clientY-this.startPosition.y+"px"),this.positionStrategy.apply()}onDragEnd(){this.overlayRef.detach()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(O),t.Y36(M.aV))},n.\u0275dir=t.lG2({type:n,selectors:[["","draggable-helper",""]],exportAs:["draggable-helper"]}),n})(),H=(()=>{class n{constructor(e){this.droppableService=e}onDragStart(e){this.droppableService.onDragStart(e)}onDragEnd(e){this.droppableService.onDragEnd(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.Y))},n.\u0275dir=t.lG2({type:n,selectors:[["","droppable",""]],hostBindings:function(e,o){1&e&&t.NdJ("dragStart",function(s){return o.onDragStart(s)})("dragEnd",function(s){return o.onDragEnd(s)})}}),n})(),N=(()=>{class n{constructor(e,o){this.el=e,this.store=o}onClick(){const{x:e,y:o,width:r,height:s}=this.el.nativeElement.closest(".task-item").getBoundingClientRect();this.store.dispatch((0,d.Mf)({x:e,y:o,width:r,height:s}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(p.yh))},n.\u0275dir=t.lG2({type:n,selectors:[["","hover",""]],hostBindings:function(e,o){1&e&&t.NdJ("mousedown",function(){return o.onClick()})}}),n})(),T=(()=>{class n{transform(e,o){return e.filter(r=>r.taskID===o).reverse()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"sortComments",type:n,pure:!0}),n})();function E(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",10),t._UZ(1,"path",11),t.qZA())}function S(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",12),t.O4$(),t.TgZ(2,"svg",13),t._UZ(3,"path",14),t.qZA(),t.kcU(),t.TgZ(4,"span",15),t._uU(5),t.qZA()(),t.BQk()),2&n){const e=t.oxw().ngIf;t.xp6(5),t.Oqu(e.length)}}function Y(n,i){if(1&n&&(t.ynx(0),t.YNc(1,S,6,1,"ng-container",8),t.BQk()),2&n){const e=i.ngIf;t.xp6(1),t.Q6J("ngIf",e.length)}}function q(n,i){if(1&n&&(t.TgZ(0,"div",16)(1,"div",1)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"button",17),t.O4$(),t.TgZ(5,"svg",4)(6,"g")(7,"g")(8,"g"),t._UZ(9,"path",5),t.qZA()()()()()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.task.name)}}let L=(()=>{class n{constructor(e){this.store=e,this.clickEmitter=new t.vpe,this.comments$=this.store.select(g.Jo)}openTask(){this.store.dispatch((0,l.qJ)({task:this.task})),this.store.dispatch((0,d.aj)())}openTaskMenu(e){e.stopPropagation(),this.store.dispatch((0,l.qJ)({task:this.task})),this.store.dispatch((0,d.V5)())}setCurrentTask(){this.store.dispatch((0,l.qJ)({task:this.task}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-item"]],inputs:{task:"task"},outputs:{clickEmitter:"clickEmitter"},decls:16,vars:8,consts:[["droppable","","hover","",1,"task-item",3,"dragStart","click"],[1,"task-item__header"],[1,"task-item__name"],["type","button","hover","",1,"task-item__button-edit",3,"click"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",0,"xmlns","xlink","http://www.w3.org/1999/xlink","enable-background","new 0 0 512 512"],["d","m453.7,133l-286,289.6-71.6-75 284.8-288.4c9-9.1 24.8-9 33.7,0.1l39.2,40.3c9,9.2 8.9,24.2-0.1,33.4zm-375.7,254.4l49.1,51.5-66.9,14.5 17.8-66zm404.8-316.3l-39.2-40.3c-13.3-14.8-54.9-35.8-91.5-0.4l-298.7,302.5c-2.5,2.5-4.3,5.6-5.2,9l-36,133.1c-4.6,17 4.2,27.5 19.6,25.7 1.4-0.2 140.9-30.1 140.9-30.1 3.8-0.8 7.3-2.8 10.1-5.6l299.6-303.4c24.6-24.8 24.8-65.4 0.4-90.5z"],[1,"task-item__body"],["class","task-item__icon-description","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",4,"ngIf"],[4,"ngIf"],["class","task-item helper",4,"draggable-helper"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"task-item__icon-description"],["fill-rule","evenodd","d","M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"],[1,"task-item__chat-indicator"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"task-item__chat-icon"],["d","M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"],[1,"task-item__chat-text"],[1,"task-item","helper"],["type","button",1,"task-item__button-edit"]],template:function(e,o){1&e&&(t.TgZ(0,"li",0),t.NdJ("dragStart",function(){return o.setCurrentTask()})("click",function(){return o.openTask()}),t.TgZ(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(s){return o.openTaskMenu(s)}),t.O4$(),t.TgZ(5,"svg",4)(6,"g")(7,"g")(8,"g"),t._UZ(9,"path",5),t.qZA()()()()()(),t.kcU(),t.TgZ(10,"div",6),t.YNc(11,E,2,0,"svg",7),t.YNc(12,Y,2,1,"ng-container",8),t.ALo(13,"sortComments"),t.ALo(14,"async"),t.qZA(),t.YNc(15,q,10,1,"div",9),t.qZA()),2&e&&(t.xp6(3),t.Oqu(o.task.name),t.xp6(8),t.Q6J("ngIf",o.task.description),t.xp6(1),t.Q6J("ngIf",t.xi3(13,3,t.lcZ(14,6,o.comments$),o.task._id)))},dependencies:[c.O5,U,O,H,N,c.Ov,T],styles:[".task-item[_ngcontent-%COMP%]{position:relative;min-height:32px;padding-block:3px;padding-inline:5px 3px;border-radius:3px;font-size:14px;font-weight:400;line-height:20px;background-color:#fff;box-shadow:0 1px #091e4240;overflow-wrap:break-word;cursor:pointer}.task-item[_ngcontent-%COMP%]:hover{background-color:#f4f5f7}.task-item[_ngcontent-%COMP%]:hover   .task-item__button-edit[_ngcontent-%COMP%]{visibility:visible}.task-item__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;min-height:26px}.task-item__button-edit[_ngcontent-%COMP%]{--size: 26px;--position: 3px;position:absolute;top:var(--position);right:var(--position);width:var(--size);height:var(--size);display:grid;place-content:center;align-self:flex-start;border-radius:3px;background-color:#f4f5f7;visibility:hidden}.task-item__button-edit[_ngcontent-%COMP%]:hover{background-color:#ebecf0}.task-item__button-edit[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{--size: 12px;width:var(--size);height:var(--size);fill:#42526e}.task-item__body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem}.task-item__icon-description[_ngcontent-%COMP%]{--size: 16px;width:var(--size);height:var(--size);margin-top:6px;margin-bottom:3px;color:#6b778c}.task-item__chat-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-top:6px;margin-bottom:3px}.task-item__chat-icon[_ngcontent-%COMP%]{--size: 15px;width:var(--size);height:var(--size);color:#6b778c}.task-item__chat-text[_ngcontent-%COMP%]{line-height:15px;color:#6b778c}.task-item.helper[_ngcontent-%COMP%]{width:276px;transform:rotate(4deg)}"]}),n})(),h=(()=>{class n{constructor(e){this.elementRef=e}onInput(){this.resize()}ngOnInit(){this.elementRef.nativeElement.scrollHeight&&setTimeout(()=>this.resize())}resize(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+"px"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","resize",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(){return o.onInput()})}}),n})();const $=function(n,i){return{top:n,left:i}},Q=function(n){return{width:n}};function V(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"form",4),t.NdJ("submit",function(r){t.CHM(e);const s=t.MAs(3),_=t.oxw(2);return t.KtG(_.updateTask(r,s.value))}),t.TgZ(2,"textarea",5,6),t._uU(4),t.qZA(),t.TgZ(5,"button",7),t._uU(6,"Save"),t.qZA()(),t.TgZ(7,"ul",8)(8,"li",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.openTask())}),t.O4$(),t.TgZ(9,"svg",10),t._UZ(10,"path",11)(11,"path",12),t.qZA(),t.kcU(),t.TgZ(12,"span"),t._uU(13,"Open"),t.qZA()(),t.TgZ(14,"li",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.deleteTask())}),t.O4$(),t.TgZ(15,"svg",13),t._UZ(16,"path",14)(17,"path",15),t.qZA(),t.kcU(),t.TgZ(18,"span"),t._uU(19,"Delete"),t.qZA()(),t.TgZ(20,"li",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.archiveTask())}),t.O4$(),t.TgZ(21,"svg",16),t._UZ(22,"path",17),t.qZA(),t.kcU(),t.TgZ(23,"span"),t._uU(24,"Archive"),t.qZA()()()()}if(2&n){const e=i.ngIf,o=t.oxw(2);t.Akn(t.WLB(5,$,e.y+"px",e.x+"px")),t.xp6(2),t.Akn(t.VKq(8,Q,e.width+"px")),t.xp6(2),t.Oqu(o.currentTask.name)}}function G(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.closeMenuOnOverlay(r))}),t.YNc(1,V,25,10,"div",2),t.ALo(2,"async"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.editTaskMenuPosition$))}}let K=(()=>{class n{constructor(e){this.store=e,this.archiveList$=this.store.select(u.Ym),this.isTaskMenuOpen$=this.store.select(d.y5),this.currentTask$=this.store.select(l.O3),this.editTaskMenuPosition$=this.store.select(d.a$)}ngOnInit(){this.archiveList$.subscribe(e=>{this.archiveList=e}),this.currentTask$.subscribe(e=>{this.currentTask=e})}closeMenuOnOverlay(e){!e.target.getAttribute("data-overlay")||this.store.dispatch((0,d.V5)())}openTask(){this.store.dispatch((0,d.V5)()),this.store.dispatch((0,d.aj)())}updateTask(e,o){e.preventDefault(),this.store.dispatch((0,l.xJ)({task:{...this.currentTask,name:o}})),this.store.dispatch((0,d.V5)())}archiveTask(){this.store.dispatch((0,l.xJ)({task:{...this.currentTask,listID:this.archiveList._id}})),this.store.dispatch((0,d.V5)())}deleteTask(){this.store.dispatch((0,l._5)({task:this.currentTask})),this.store.dispatch((0,d.V5)())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-menu"]],decls:2,vars:3,consts:[["class","task-menu-overlay","data-overlay","true",3,"click",4,"ngIf"],["data-overlay","true",1,"task-menu-overlay",3,"click"],["class","task-menu",3,"style",4,"ngIf"],[1,"task-menu"],[1,"task-menu__form",3,"submit"],["resize",""],["textarea",""],["type","submit"],[1,"task-menu__items"],[1,"task-menu__item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-credit-card-2-front"],["d","M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"],["d","M2 5.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"]],template:function(e,o){1&e&&(t.YNc(0,G,3,3,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.isTaskMenuOpen$))},dependencies:[c.O5,h,c.Ov],styles:[".task-menu-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1000;background-color:#0000004d}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu[_ngcontent-%COMP%]{position:relative;max-width:-moz-fit-content;max-width:fit-content;min-height:min-content;display:flex;gap:.5rem}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:276px;background-color:#fff;border-radius:3px;min-height:90px;resize:none;color:#172b4d;padding-block:3px;padding-inline:5px 3px;font-size:14px;font-weight:400;line-height:20px;overflow-wrap:break-word}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px;height:32px;padding:6px 24px;border-radius:3px;color:#fff;background-color:#0079bf;font-size:14px;font-weight:400;line-height:20px}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#026aa7}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu__items[_ngcontent-%COMP%]{display:grid;gap:.4rem;height:max-content}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu__item[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);color:#fff;border-radius:3px;padding-inline:10px;font-size:14px;font-weight:400;line-height:20px;max-width:max-content;height:40px;cursor:pointer;display:flex;align-items:center}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu__item[_ngcontent-%COMP%]:hover{transform:translate(5px);transition:.1s;background-color:#000c}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu__item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:8px}.task-menu-overlay[_ngcontent-%COMP%]   .task-menu__form[_ngcontent-%COMP%]{display:grid;gap:.5rem}"]}),n})();var R=a(213),j=a(5747);let X=(()=>{class n{transform(e,o){return e.filter(r=>r.listID===o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"sortTasks",type:n,pure:!0}),n})();function W(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-button-more",8),t.NdJ("clickEmitter",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleContextMenu())}),t.qZA(),t.BQk()}2&n&&(t.xp6(1),t.Q6J("isButtonLight",!1))}function tt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return r.toggleArchivedTasksVisibility(),t.KtG(r.rotate())}),t.O4$(),t.TgZ(2,"svg",10),t._UZ(3,"path",11),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("@rotatedState",e.state)}}const y=function(n,i){return{width:n,height:i}};function et(n,i){if(1&n&&t._UZ(0,"div",13),2&n){const e=i.ngIf;t.Akn(t.WLB(2,y,e.width+"px",e.height+"px"))}}function nt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,et,1,5,"div",12),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.editTaskMenuPosition$))}}function ot(n,i){1&n&&(t.TgZ(0,"div",17)(1,"span"),t._uU(2,"No archived tasks"),t.qZA()())}function it(n,i){1&n&&t._UZ(0,"app-task-item",18),2&n&&t.Q6J("task",i.$implicit)}function rt(n,i){if(1&n&&t._UZ(0,"div",13),2&n){const e=i.ngIf;t.Akn(t.WLB(2,y,e.width+"px",e.height+"px"))}}function st(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",14),t.YNc(2,ot,3,0,"div",15),t.YNc(3,it,1,1,"app-task-item",16),t.ALo(4,"search"),t.ALo(5,"sort"),t.ALo(6,"async"),t.ALo(7,"async"),t.ALo(8,"async"),t.YNc(9,rt,1,5,"div",12),t.ALo(10,"async"),t.qZA(),t.BQk()),2&n){const e=i.ngIf,o=t.oxw(2);let r;t.xp6(1),t.uIk("data-archiv",o.list.isArchive)("data-visible",o.isArchivedTaskVisible),t.xp6(1),t.Q6J("ngIf",o.list.isArchive&&o.isArchivedTaskVisible&&!e.length),t.xp6(1),t.Q6J("ngForOf",t.Dn7(4,5,t.Dn7(5,9,e,null==(r=t.lcZ(6,13,o.toolbarValues$))?null:r.sort,null==(r=t.lcZ(7,15,o.toolbarValues$))?null:r.order),null==(r=t.lcZ(8,17,o.toolbarValues$))?null:r.search,o.searchType)),t.xp6(6),t.Q6J("ngIf",t.lcZ(10,19,o.editTaskMenuPosition$))}}function at(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.toggleNewTaskForm())}),t.TgZ(2,"span",22),t._uU(3,"+"),t.qZA(),t.TgZ(4,"span",23),t._uU(5,"Add a task"),t.qZA()(),t.BQk()}}function ct(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,at,6,0,"ng-container",20),t.qZA()),2&n){const e=t.oxw(2),o=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!e.isNewTaskFormOpen)("ngIfElse",o)}}function lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"h3",26),t._uU(3,"Options"),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleContextMenu())}),t._uU(5," \xd7 "),t.qZA()(),t.TgZ(6,"div",28)(7,"form",29)(8,"label",30),t._uU(9,"Background"),t.qZA(),t.TgZ(10,"app-color-select",31),t.NdJ("clickEmitter",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.updateList(s.list,r))}),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(10),t.Q6J("currentColor",e.list.background)}}const dt=function(n){return{"border-bottom-color":n}};function _t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",2),t.NdJ("drop",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.moveTask())}),t.TgZ(1,"div",3)(2,"h2",4),t._uU(3),t.qZA(),t.YNc(4,W,2,1,"ng-container",5),t.YNc(5,tt,4,1,"ng-container",5),t.qZA(),t.YNc(6,nt,3,3,"ng-container",5),t.YNc(7,st,11,21,"ng-container",5),t.ALo(8,"sortTasks"),t.ALo(9,"async"),t.YNc(10,ct,2,2,"div",6),t.YNc(11,lt,11,1,"div",7),t.qZA()}if(2&n){const e=t.oxw();t.Akn(t.VKq(15,dt,e.list.background)),t.uIk("data-archive",e.list.isArchive),t.xp6(3),t.Oqu(e.list.name),t.xp6(1),t.Q6J("ngIf",!e.list.isArchive),t.xp6(1),t.Q6J("ngIf",e.list.isArchive),t.xp6(1),t.Q6J("ngIf",!e.isArchivedTaskVisible&&e.list.isArchive),t.xp6(1),t.Q6J("ngIf",t.xi3(8,10,t.lcZ(9,13,e.tasks$),e.list._id)),t.xp6(3),t.Q6J("ngIf",!e.list.isArchive),t.xp6(1),t.Q6J("ngIf",e.isContextMenuOpen)}}function pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",32)(1,"div",33),t._UZ(2,"textarea",34,35),t.qZA(),t.TgZ(4,"div",36)(5,"button",37),t.NdJ("click",function(r){t.CHM(e);const s=t.MAs(3);return t.oxw().addTask(r,s.value),t.KtG(s.value="")}),t._uU(6," Add task "),t.qZA(),t.TgZ(7,"button",38),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleNewTaskForm())}),t._uU(8," \xd7 "),t.qZA()()()}}let mt=(()=>{class n{constructor(e){this.store=e,this.searchType="task",this.isNewTaskFormOpen=!1,this.isContextMenuOpen=!1,this.isArchivedTaskVisible=!1,this.state="default",this.toolbarValues$=this.store.select(z.mt),this.currentTask$=this.store.select(l.O3),this.tasks$=this.store.select(l.HO),this.editTaskMenuPosition$=this.store.select(d.a$)}ngOnInit(){this.currentTask$.subscribe(e=>{this.currentTask=e})}rotate(){this.state="default"===this.state?"rotated":"default"}toggleArchivedTasksVisibility(){this.isArchivedTaskVisible=!this.isArchivedTaskVisible}toggleNewTaskForm(){this.isNewTaskFormOpen=!this.isNewTaskFormOpen}toggleContextMenu(){this.isContextMenuOpen=!this.isContextMenuOpen}updateList(e,o){this.store.dispatch((0,u.s9)({list:{...e,background:o}}))}addTask(e,o){e.preventDefault(),this.store.dispatch((0,l.gI)({task:{name:o,listID:this.list._id,boardID:this.boardID}})),this.toggleNewTaskForm()}moveTask(){this.currentTask?.listID!==this.list._id&&this.store.dispatch((0,l.xJ)({task:{...this.currentTask,listID:this.list._id}}))}setCurrentTask(e){this.store.dispatch((0,l.qJ)({task:{...e}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["list"]],inputs:{list:"list",boardID:"boardID"},decls:4,vars:1,consts:[["class","list","dropzone","",3,"style","drop",4,"ngIf"],["newTaskForm",""],["dropzone","",1,"list",3,"drop"],[1,"list__header"],[1,"list__title"],[4,"ngIf"],["class","list__footer",4,"ngIf"],["class","context-menu",4,"ngIf"],[3,"isButtonLight","clickEmitter"],["type","button",1,"list__header-archive-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["fill-rule","evenodd","d","M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"],["class","task-item-pseudo",3,"style",4,"ngIf"],[1,"task-item-pseudo"],[1,"list__tasks"],["class","archiv",4,"ngIf"],[3,"task",4,"ngFor","ngForOf"],[1,"archiv"],[3,"task"],[1,"list__footer"],[4,"ngIf","ngIfElse"],[1,"list__button-add-task",3,"click"],[1,"list__button-content-plus"],[1,"list__button-content-text"],[1,"context-menu"],[1,"context-menu__header"],[1,"context-menu__title"],[1,"context-menu__button-close",3,"click"],[1,"context-menu__body"],[1,"modal__form"],["for","colors",1,"menu__label"],["size","small",3,"currentColor","clickEmitter"],[1,"form"],[1,"form__textarea-wrapper"],["placeholder","Enter title for this task...",1,"form__textarea"],["textarea",""],[1,"form__buttons"],["type","submit",1,"form__button-submit",3,"click"],["type","button",1,"form__button-close",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,_t,12,17,"li",0),t.YNc(1,pt,9,0,"ng-template",null,1,t.W1O),t._UZ(3,"app-task-menu")),2&e&&t.Q6J("ngIf",o.list.boardID===o.boardID)},dependencies:[c.sg,c.O5,I,F.N,J.n,L,K,c.Ov,R.C,j.U,X],styles:[".list[_ngcontent-%COMP%]{position:relative;padding:8px;border-radius:3px;border-bottom-width:6px;border-bottom-style:solid;background-color:#ebecf0;display:grid;gap:.6rem;grid-template-columns:276px}.list[_ngcontent-%COMP%]   .list[data-archive=true][_ngcontent-%COMP%]   .list__header[_ngcontent-%COMP%]{margin-bottom:0;min-height:28px}.list[_ngcontent-%COMP%]   .list[data-archive=true][_ngcontent-%COMP%]   .list__footer[_ngcontent-%COMP%]{display:none}.list[_ngcontent-%COMP%]   .list[data-archive=true][_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.list[_ngcontent-%COMP%]   .list[data-archive=true][_ngcontent-%COMP%]   .list__header-archive-button[_ngcontent-%COMP%]{--size: 20px;width:var(--size);height:var(--size)}.list[_ngcontent-%COMP%]   .list[data-archive=true][_ngcontent-%COMP%]   .list__header-archive-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.list[_ngcontent-%COMP%]   .list__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:2px}.list[_ngcontent-%COMP%]   .list__title[_ngcontent-%COMP%]{margin-top:3px;font-size:1rem}.list[_ngcontent-%COMP%]   .list__button-close[_ngcontent-%COMP%]{display:grid;place-content:center;width:1.8rem;height:1.8rem;font-size:1.6rem}.list[_ngcontent-%COMP%]   .list__tasks[_ngcontent-%COMP%]{display:grid;gap:.6rem;width:100%}.list[_ngcontent-%COMP%]   .list__tasks[data-archiv=true][data-visible=false][_ngcontent-%COMP%]{display:none}.list[_ngcontent-%COMP%]   .list__quantity[_ngcontent-%COMP%]{font-size:.9rem;font-weight:400;color:#5e6c84}.list[_ngcontent-%COMP%]   .list__button-add-task[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;width:100%;padding-inline:8px;border-radius:3px;color:#5e6c84}.list[_ngcontent-%COMP%]   .list__button-add-task[_ngcontent-%COMP%]:hover{color:#172b4d;background-color:#091e4214}.list[_ngcontent-%COMP%]   .list__button-add-task[_ngcontent-%COMP%]   .list__button-content-plus[_ngcontent-%COMP%]{font-size:1.6rem}.list[_ngcontent-%COMP%]   .list__button-add-task[_ngcontent-%COMP%]   .list__button-content-text[_ngcontent-%COMP%]{font-size:.9rem}.menu__label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.4rem;color:#5e6c84;font-size:.9rem}.form[_ngcontent-%COMP%]   .form__textarea-wrapper[_ngcontent-%COMP%]{width:100%;min-height:4rem;padding:6px 8px;border-radius:3px;box-shadow:0 1px #091e4240;font-size:14px;font-weight:400;line-height:20px;background-color:#fff}.form[_ngcontent-%COMP%]   .form__textarea-wrapper[_ngcontent-%COMP%]   .form__textarea[_ngcontent-%COMP%]{width:100%;min-height:inherit;font-size:14px;resize:vertical}.form[_ngcontent-%COMP%]   .form__textarea-wrapper[_ngcontent-%COMP%]   .form__textarea[_ngcontent-%COMP%]::placeholder{font-size:.9rem}.form[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding-top:10px;margin-right:6px}.form[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]   .form__button-submit[_ngcontent-%COMP%]{padding:6px 12px;border-radius:3px;box-shadow:none;font-size:14px;font-weight:400;color:#fff;background-color:#0079bf}.form[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]   .form__button-submit[_ngcontent-%COMP%]:hover{background-color:#026aa7}.form[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]   .form__button-close[_ngcontent-%COMP%]{color:#6b778c;font-size:2rem;margin-right:auto;width:28px;height:28px;display:grid;place-content:center}.task-item-pseudo[_ngcontent-%COMP%]{width:276px;height:32px;background-color:#f4f5f7;border-radius:3px}.dropzone-activated.dropzone-entered[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]:hover{background-color:#fff}.dropzone-activated.dropzone-entered[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{visibility:hidden}.dropzone-activated.dropzone-entered[_ngcontent-%COMP%]   .task-item-pseudo[_ngcontent-%COMP%]{display:block}.dropzone-activated.dropzone-entered[_ngcontent-%COMP%]   .task-item-pseudo[_ngcontent-%COMP%]:hover, .dropzone-default[_ngcontent-%COMP%]   .task-item-pseudo[_ngcontent-%COMP%]:hover{background-color:#e2e4ea}.dropzone-default[_ngcontent-%COMP%]   .task-item-pseudo[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{visibility:hidden}.dropzone-activated.dropzone-default[_ngcontent-%COMP%]   .task-item-pseudo[_ngcontent-%COMP%]{display:block}.dropzone-activated[_ngcontent-%COMP%]   .list__button-add-task[_ngcontent-%COMP%]:hover{color:#5e6c84;background-color:transparent}.dropzone-entered[_ngcontent-%COMP%]   .archiv[_ngcontent-%COMP%]{display:none}.task-item-pseudo[_ngcontent-%COMP%]{display:none;background-color:#e2e4ea;color:transparent;box-shadow:none;width:276px}.task-item-pseudo[_ngcontent-%COMP%]:hover{background-color:#e2e4ea}.archiv[_ngcontent-%COMP%]{cursor:auto;background-color:transparent;box-shadow:none;font-size:14px;font-weight:400;line-height:32px;min-height:32px}.context-menu[_ngcontent-%COMP%]{position:absolute;top:40px;right:8px;width:13rem;background-color:#fff;border-radius:3px;box-shadow:0 8px 16px -4px #091e4240,0 0 0 1px #091e4214;z-index:10}.context-menu__header[_ngcontent-%COMP%]{display:flex;color:#000;font-size:.8rem;justify-content:center;align-items:center;margin-inline:.6rem;border-bottom:1px solid lightgray;padding-block:.5rem}.context-menu__title[_ngcontent-%COMP%]{font-weight:400}.context-menu__button-close[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;font-size:1.3rem;width:1.6rem;height:1.6rem;display:grid;place-content:center}.context-menu__body[_ngcontent-%COMP%]{margin:.6rem}"],data:{animation:[(0,m.X$)("rotatedState",[(0,m.SB)("default",(0,m.oB)({transform:"rotate(0)"})),(0,m.SB)("rotated",(0,m.oB)({transform:"rotate(-180deg)"})),(0,m.eR)("default => rotated",(0,m.jt)("200ms")),(0,m.eR)("rotated => default",(0,m.jt)("200ms"))])]}}),n})(),v=(()=>{class n{constructor(e){if(this.el=e,!e.nativeElement.focus)throw new Error("Element does not accept focus.")}ngOnInit(){const e=this.el.nativeElement;e.focus(),e.select()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","autofocus",""]]}),n})();function gt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6),t._uU(3),t.qZA()(),t.TgZ(4,"div",7)(5,"a",8),t.NdJ("click",function(r){return t.CHM(e),t.oxw().toggleEditCommentForm(),t.KtG(r.preventDefault())}),t._uU(6,"Edit"),t.qZA(),t.TgZ(7,"span"),t._uU(8," - "),t.qZA(),t.TgZ(9,"a",8),t.NdJ("click",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.deleteComment(r,s.comment))}),t._uU(10,"Delete"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.comment.name)}}function ut(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",5)(3,"textarea",10,11),t._uU(5),t.qZA()(),t.TgZ(6,"div",7)(7,"div",12)(8,"button",13),t.NdJ("click",function(r){t.CHM(e);const s=t.MAs(4),_=t.oxw();return t.KtG(_.updateComment(r,_.comment,s.value))}),t._uU(9," Save "),t.qZA(),t.TgZ(10,"button",14),t.NdJ("click",function(r){return t.CHM(e),t.oxw().toggleEditCommentForm(),t.KtG(r.preventDefault())}),t._uU(11," \xd7 "),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(e.comment.name)}}let ht=(()=>{class n{constructor(e){this.store=e,this.isEditCommentFormOpen=!1}toggleEditCommentForm(){this.isEditCommentFormOpen=!this.isEditCommentFormOpen}updateComment(e,o,r){e.preventDefault(),this.store.dispatch((0,g.uA)({comment:{...o,name:r}})),this.toggleEditCommentForm()}deleteComment(e,o){e.preventDefault(),this.store.dispatch((0,g.YF)({comment:o}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["comment"]],inputs:{comment:"comment",user:"user"},decls:9,vars:7,consts:[[1,"comment"],[1,"comment__header"],[1,"comment__user"],[1,"comment__time"],[4,"ngIf"],[1,"task__comment-input-wrapper"],[1,"task__comment-input"],[1,"comment__footer"],["href","#",1,"comment__link",3,"click"],[1,"comment__body"],["resize","","autofocus","",1,"task__comment-input"],["commentTextarea",""],[1,"form__buttons"],["type","submit",1,"form__button-submit",3,"click"],["type","button",1,"form__button-close",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t._uU(5),t.ALo(6,"date"),t.qZA()(),t.YNc(7,gt,11,1,"ng-container",4),t.YNc(8,ut,12,1,"ng-container",4),t.qZA()),2&e&&(t.xp6(3),t.Oqu(o.user.username),t.xp6(2),t.hij(" ",t.xi3(6,4,o.comment.created_date,"dd.MM.YYYY")," "),t.xp6(2),t.Q6J("ngIf",!o.isEditCommentFormOpen),t.xp6(1),t.Q6J("ngIf",o.isEditCommentFormOpen))},dependencies:[c.O5,h,v,c.uU],styles:[".comment[_ngcontent-%COMP%]{font-weight:400}.comment__header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.4rem;line-height:1;margin-bottom:.5rem;margin-left:3px}.comment__user[_ngcontent-%COMP%]{font-weight:600}.comment__time[_ngcontent-%COMP%]{font-size:.86rem}.comment__footer[_ngcontent-%COMP%]{margin-top:.2rem;margin-left:3px}.comment__footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#5e6c84;font-size:.9rem}.task__comment-input-wrapper[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:3px;box-shadow:0 1px 2px -1px #091e4240,0 0 0 1px #091e4214}.task__comment-input[_ngcontent-%COMP%]{padding:8px 12px;font-size:.94rem;width:100%;resize:none;min-height:36px;word-wrap:break-word}.comment__body[_ngcontent-%COMP%]{background-color:#fff;border-radius:3px;box-shadow:0 4px 8px -2px #091e4240,0 0 0 1px #091e4214;padding:8px 12px}.comment__body[_ngcontent-%COMP%]   .task__comment-input-wrapper[_ngcontent-%COMP%]{border:none;box-shadow:none}.comment__body[_ngcontent-%COMP%]   .task__comment-input[_ngcontent-%COMP%]{width:100%;resize:none;padding:0;min-height:40px}.comment__body[_ngcontent-%COMP%]   .comment__footer[_ngcontent-%COMP%]{margin:0}.comment__body[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]{padding-top:12px}.task__activity[_ngcontent-%COMP%]{display:grid;gap:.6rem;grid-template-columns:100%}.task__activity-header[_ngcontent-%COMP%]{display:flex;gap:1rem}.task__activity-body[_ngcontent-%COMP%]{margin-left:2.6rem}.form__buttons[_ngcontent-%COMP%]{padding-top:8px;display:flex;align-items:center;gap:.5rem}.form__button-submit[_ngcontent-%COMP%]{background-color:#0079bf;box-shadow:none;color:#fff;padding:6px 12px;font-size:14px;font-weight:400;border-radius:3px}.form__button-submit[_ngcontent-%COMP%]:hover{background-color:#026aa7}.form__button-close[_ngcontent-%COMP%]{color:#6b778c;font-size:34px;width:1.8rem;height:1.8rem;display:grid;place-content:center}.form__button-more[_ngcontent-%COMP%]{margin-left:auto;margin-right:.2rem}.form__button-more[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.4rem;height:1.4rem}"]}),n})();function ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"textarea",3),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleAddCommentForm())}),t.qZA()}}function xt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",0),t._UZ(3,"textarea",5,6),t.qZA(),t.TgZ(5,"div",7)(6,"div",8)(7,"button",9),t.NdJ("click",function(r){t.CHM(e);const s=t.MAs(4),_=t.oxw();return _.addComment(r,s.value),s.value="",t.KtG(_.toggleAddCommentForm())}),t._uU(8," Save "),t.qZA(),t.TgZ(9,"button",10),t.NdJ("click",function(r){return t.CHM(e),t.oxw().toggleAddCommentForm(),t.KtG(r.preventDefault())}),t._uU(10," \xd7 "),t.qZA()()()(),t.BQk()}}let vt=(()=>{class n{constructor(e){this.store=e,this.isEditCommentFormOpen=!1,this.isAddCommentFormOpen=!1}toggleEditCommentForm(){this.isEditCommentFormOpen=!this.isEditCommentFormOpen}toggleAddCommentForm(){this.isAddCommentFormOpen=!this.isAddCommentFormOpen}addComment(e,o){e.preventDefault(),this.store.dispatch((0,g.Ir)({comment:{name:o,taskID:this.task._id,boardID:this.task.boardID}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["add-comment-form"]],inputs:{task:"task"},decls:3,vars:2,consts:[[1,"form-input-wrapper"],["class","form-input","type","text","placeholder","Write a comment...",3,"click",4,"ngIf"],[4,"ngIf"],["type","text","placeholder","Write a comment...",1,"form-input",3,"click"],[1,"form-comment-body"],["resize","","autofocus","","placeholder","Write a comment...",1,"form-input"],["commentTextarea",""],[1,"form-comment-footer"],[1,"form__buttons"],["type","submit",1,"form__button-submit",3,"click"],["type","button",1,"form__button-close",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.YNc(1,ft,1,0,"textarea",1),t.YNc(2,xt,11,0,"ng-container",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.isAddCommentFormOpen),t.xp6(1),t.Q6J("ngIf",o.isAddCommentFormOpen))},dependencies:[c.O5,h,v],styles:[".form-input-wrapper[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:3px;box-shadow:0 1px 2px -1px #091e4240,0 0 0 1px #091e4214}.form-input[_ngcontent-%COMP%]{padding:8px 12px;font-size:.94rem;width:100%;resize:none;height:36px;word-wrap:break-word}.form-comment-body[_ngcontent-%COMP%]{background-color:#fff;border-radius:3px;box-shadow:0 4px 8px -2px #091e4240,0 0 0 1px #091e4214;padding:8px 12px}.form-comment-body[_ngcontent-%COMP%]   .form-input-wrapper[_ngcontent-%COMP%]{border:none;box-shadow:none}.form-comment-body[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;resize:none;padding:0;min-height:40px}.form-comment-body[_ngcontent-%COMP%]   .form-comment-footer[_ngcontent-%COMP%]{margin:0}.form-comment-body[_ngcontent-%COMP%]   .form__buttons[_ngcontent-%COMP%]{padding-top:12px}.form__buttons[_ngcontent-%COMP%]{padding-top:8px;display:flex;align-items:center;gap:.5rem}.form__button-submit[_ngcontent-%COMP%]{background-color:#0079bf;box-shadow:none;color:#fff;padding:6px 12px;font-size:14px;font-weight:400;border-radius:3px}.form__button-submit[_ngcontent-%COMP%]:hover{background-color:#026aa7}.form__button-close[_ngcontent-%COMP%]{color:#6b778c;font-size:34px;width:1.8rem;height:1.8rem;display:grid;place-content:center}.form__button-more[_ngcontent-%COMP%]{margin-left:auto;margin-right:.2rem}.form__button-more[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.4rem;height:1.4rem}"]}),n})();function kt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"p",1),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleDescriptionForm())}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.task.description," ")}}function Ct(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleDescriptionForm())}),t.TgZ(2,"span"),t._uU(3,"Add a more detailed description..."),t.qZA()(),t.BQk()}}function bt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,kt,3,1,"ng-container",0),t.YNc(2,Ct,4,0,"ng-container",0),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.task.description),t.xp6(1),t.Q6J("ngIf",!e.task.description)}}function Mt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",3)(2,"textarea",4,5),t._uU(4),t.qZA(),t.TgZ(5,"div",6)(6,"button",7),t.NdJ("click",function(r){t.CHM(e);const s=t.MAs(3),_=t.oxw();return t.KtG(_.updateDescription(r,s.value))}),t._uU(7," Save "),t.qZA(),t.TgZ(8,"button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleDescriptionForm())}),t._uU(9," \xd7 "),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.task.description)}}let Ot=(()=>{class n{constructor(e){this.store=e,this.isDescriptionFormOpen=!1}toggleDescriptionForm(){this.isDescriptionFormOpen=!this.isDescriptionFormOpen}updateDescription(e,o){e.preventDefault(),this.store.dispatch((0,l.xJ)({task:{...this.task,description:o}})),this.store.dispatch((0,l.qJ)({task:{...this.task,description:o}})),this.isDescriptionFormOpen=!this.isDescriptionFormOpen}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["description-section"]],inputs:{task:"task"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"task__description-content",3,"click"],[1,"description-fake-text-area",3,"click"],[1,"form"],["placeholder","Add a more detailed description...","resize","","autofocus","",1,"form__textarea"],["textarea",""],[1,"form__buttons"],["type","submit",1,"form__button-submit",3,"click"],["type","button",1,"form__button-close",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,bt,3,2,"ng-container",0),t.YNc(1,Mt,10,1,"ng-container",0)),2&e&&(t.Q6J("ngIf",!o.isDescriptionFormOpen),t.xp6(1),t.Q6J("ngIf",o.isDescriptionFormOpen))},dependencies:[c.O5,h,v],styles:[".task__description-content[_ngcontent-%COMP%]{color:var(--ds-text, #172b4d);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:400;line-height:20px;cursor:pointer}.form__textarea-wrapper[_ngcontent-%COMP%]{width:100%;min-height:4rem;background-color:#fff;border-radius:3px;font-size:14px;font-weight:400;line-height:20px;box-shadow:0 1px #091e4240;padding:6px 8px}.form__textarea[_ngcontent-%COMP%]{background-color:#fff;box-shadow:inset 0 0 0 2px var(--ds-border-focused, #0079bf);padding:8px 12px;font-size:14px;min-height:6rem;width:100%;resize:none;border-radius:3px}.form__textarea[_ngcontent-%COMP%]::placeholder{font-size:.9rem}.description-fake-text-area[_ngcontent-%COMP%]{background-color:var(--ds-background-neutral, rgba(9, 30, 66, .0392156863));border:none;border-radius:3px;box-shadow:none;color:var(--ds-text, inherit);display:block;min-height:56px;padding:8px 12px;text-decoration:none;resize:none;width:100%;font-size:14px;font-weight:400;line-height:20px;cursor:pointer}.description-fake-text-area[_ngcontent-%COMP%]::placeholder{opacity:1}.description-fake-text-area[_ngcontent-%COMP%]:hover{background-color:var(--ds-background-neutral-hovered, rgba(9, 30, 66, .0784313725));border:none;box-shadow:none;color:var(--ds-text, inherit);text-decoration:none}.description-fake-text-area[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.9rem}.form__buttons[_ngcontent-%COMP%]{padding-top:8px;display:flex;align-items:center;gap:.5rem}.form__button-submit[_ngcontent-%COMP%]{background-color:#0079bf;box-shadow:none;color:#fff;padding:6px 12px;font-size:14px;font-weight:400;border-radius:3px}.form__button-submit[_ngcontent-%COMP%]:hover{background-color:#026aa7}.form__button-close[_ngcontent-%COMP%]{color:#6b778c;font-size:34px;width:1.8rem;height:1.8rem;display:grid;place-content:center}.form__button-more[_ngcontent-%COMP%]{margin-left:auto;margin-right:.2rem}.form__button-more[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.4rem;height:1.4rem}"]}),n})();function Tt(n,i){if(1&n&&(t.TgZ(0,"p",24)(1,"span"),t._uU(2,"in list "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=i.ngIf;t.xp6(4),t.hij('"',e.name,'"')}}function yt(n,i){if(1&n&&(t._UZ(0,"comment",27),t.ALo(1,"async")),2&n){const e=i.$implicit,o=t.oxw(3);t.Q6J("comment",e)("user",t.lcZ(1,2,o.user$))}}function wt(n,i){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,yt,2,4,"comment",26),t.qZA()),2&n){const e=i.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function Pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.O4$(),t.TgZ(2,"svg",3),t._UZ(3,"path",4)(4,"path",5),t.qZA(),t.kcU(),t.TgZ(5,"h2",6),t._uU(6),t.qZA(),t.YNc(7,Tt,5,1,"p",7),t.ALo(8,"async"),t.TgZ(9,"button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal())}),t._uU(10,"\xd7"),t.qZA()(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",11),t.O4$(),t.TgZ(14,"svg",12),t._UZ(15,"path",13),t.qZA(),t.kcU(),t.TgZ(16,"h3",14),t._uU(17,"Description"),t.qZA()(),t.TgZ(18,"div",15),t._UZ(19,"description-section",16),t.qZA()(),t.TgZ(20,"div",17)(21,"div",18),t.O4$(),t.TgZ(22,"svg",12),t._UZ(23,"path",19)(24,"path",20),t.qZA(),t.kcU(),t.TgZ(25,"h3",21),t._uU(26,"Activity"),t.qZA()(),t.TgZ(27,"div",22),t._UZ(28,"add-comment-form",16),t.YNc(29,wt,2,1,"div",23),t.ALo(30,"sortComments"),t.ALo(31,"async"),t.qZA()()()()}if(2&n){const e=i.ngIf,o=t.oxw();t.xp6(6),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,5,o.list$)),t.xp6(12),t.Q6J("task",e),t.xp6(9),t.Q6J("task",e),t.xp6(1),t.Q6J("ngIf",t.xi3(30,7,t.lcZ(31,10,o.comments$),e._id))}}let Zt=(()=>{class n{constructor(e){this.store=e,this.user$=this.store.select(C.dy),this.task$=this.store.select(l.O3),this.comments$=this.store.select(g.Jo)}ngOnInit(){this.task$.subscribe(e=>{this.store.dispatch((0,g.KT)({boardID:e.boardID})),this.list$=this.store.select((0,u.Fz)({id:e.listID}))})}toggleModal(){this.store.dispatch((0,d.aj)())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["task-modal"]],decls:2,vars:3,consts:[["class","task",4,"ngIf"],[1,"task"],[1,"task__header"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"task__icon","task__header-icon"],["d","M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"],["d","M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"],[1,"task__title"],["class","task__detail",4,"ngIf"],[1,"task__button-close",3,"click"],[1,"task__body"],[1,"task__description"],[1,"task__description-header"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"task__icon"],["fill-rule","evenodd","d","M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"],[1,"task__description-title"],[1,"task__description-body"],[3,"task"],[1,"task__activity"],[1,"task__activity-header"],["d","M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"],["d","m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"],[1,"task__activity-title"],[1,"task__activity-body"],["class","task__activity-comments",4,"ngIf"],[1,"task__detail"],[1,"task__activity-comments"],[3,"comment","user",4,"ngFor","ngForOf"],[3,"comment","user"]],template:function(e,o){1&e&&(t.YNc(0,Pt,32,12,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.task$))},dependencies:[c.sg,c.O5,ht,vt,Ot,c.Ov,T],styles:['.task[_ngcontent-%COMP%]{width:768px;height:943px;background-color:#fff;border-radius:3px;padding-block:12px;padding-inline:24px 12px;background-color:#f4f5f7;overflow-y:auto}.task__header[_ngcontent-%COMP%]{display:grid;column-gap:1rem;row-gap:.6rem;grid-template-columns:max-content 1fr max-content;grid-template-areas:"icon title button" "icon detail button";margin-bottom:24px}.task__header-icon[_ngcontent-%COMP%]{grid-area:icon;margin-top:10px}.task__title[_ngcontent-%COMP%]{grid-area:title;line-height:1;margin-top:8px}.task__detail[_ngcontent-%COMP%]{grid-area:detail;font-weight:400;margin-left:2px}.task__detail[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#5e6c84}.task__button-close[_ngcontent-%COMP%]{width:40px;height:40px;display:grid;place-content:center;grid-area:button;font-size:2rem;color:#42526e}.task__icon[_ngcontent-%COMP%]{width:24px;height:24px}.task__body[_ngcontent-%COMP%]{display:grid;gap:24px;grid-template-columns:100%}.task__description[_ngcontent-%COMP%], .task__activity[_ngcontent-%COMP%]{display:grid;gap:.6rem;grid-template-columns:100%}.task__description-header[_ngcontent-%COMP%], .task__activity-header[_ngcontent-%COMP%]{display:flex;gap:1rem}.task__description-body[_ngcontent-%COMP%], .task__activity-body[_ngcontent-%COMP%]{margin-left:2.6rem}.task__activity-comments[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;gap:1rem;grid-template-columns:100%}']}),n})();function Dt(n,i){if(1&n&&t._UZ(0,"list",6),2&n){const e=i.$implicit,o=t.oxw();t.Q6J("list",e)("boardID",o.boardID)}}function At(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.closeMenuOnOverlay(r))}),t._UZ(1,"task-modal"),t.qZA()}}const zt=[{path:"",component:(()=>{class n{constructor(e,o){this.store=e,this.route=o,this.boardName="",this.boardID=this.route.snapshot.paramMap.get("id"),this.board$=this.store.select((0,Z.ZO)({id:this.boardID})),this.lists$=this.store.select(u.st),this.isTaskModalOpen$=this.store.select(d.pX)}ngOnInit(){this.store.dispatch((0,C.II)()),this.store.dispatch((0,u.o_)({boardID:this.boardID})),this.store.dispatch((0,l.U1)({boardID:this.boardID})),this.store.dispatch((0,g.KT)({boardID:this.boardID}))}closeMenuOnOverlay(e){!e.target.getAttribute("data-overlay")||this.store.dispatch((0,d.aj)())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh),t.Y36(x.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-board"]],decls:10,vars:9,consts:[[1,"container"],[1,"board"],[3,"title"],[1,"lists"],[3,"list","boardID",4,"ngFor","ngForOf"],["class","task-overlay","data-overlay","true",3,"click",4,"ngIf"],[3,"list","boardID"],["data-overlay","true",1,"task-overlay",3,"click"]],template:function(e,o){if(1&e&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"toolbar",2),t.ALo(4,"async"),t.TgZ(5,"ul",3),t.YNc(6,Dt,1,2,"list",4),t.ALo(7,"async"),t.qZA()()(),t.YNc(8,At,2,0,"div",5),t.ALo(9,"async")),2&e){let r;t.xp6(3),t.Q6J("title",null==(r=t.lcZ(4,3,o.board$))?null:r.name),t.xp6(3),t.Q6J("ngForOf",t.lcZ(7,5,o.lists$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,7,o.isTaskModalOpen$))}},dependencies:[c.sg,c.O5,D.n,A.G,mt,Zt,c.Ov],styles:[".board[_ngcontent-%COMP%]{padding:2rem;min-height:calc(100vh - 48px)}.lists[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.task-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#0009;display:grid;place-content:center}"]}),n})()}];let It=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x.Bz.forChild(zt),f.JF,x.Bz]}),n})();var Ft=a(9544);let Jt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:f.TP,useClass:Ft.s,multi:!0}],imports:[c.ez,w.m,f.JF,P.I,It]}),n})()}}]);