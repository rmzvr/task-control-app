"use strict";(self.webpackChunktask_control=self.webpackChunktask_control||[]).push([[857],{9857:(nt,M,i)=>{i.r(M),i.d(M,{DashboardModule:()=>et});var s=i(6895),h=i(529),l=i(433),Z=i(294),T=i(4466),p=i(2618),k=i(9841),u=i(4004),m=i(3326),c=i(9051),x=i(4627),f=i(5489),t=i(4650),g=i(2997),B=i(5123),P=i(7368),v=i(119);function A(o,r){1&o&&(t.TgZ(0,"label",17),t._uU(1,"Field is required"),t.qZA())}function w(o,r){1&o&&(t.TgZ(0,"label",18),t._uU(1,"Field is required"),t.qZA())}let J=(()=>{class o{constructor(e){this.store=e,this.color="#0079bf",this.boardForm=new l.cw({name:new l.NI("",[l.kI.required]),description:new l.NI("",[l.kI.required])}),this.title$=this.store.select(c.nj),this.user$=this.store.select(f.dy),this.user$.subscribe(n=>{this.userID=n?._id})}ngOnInit(){this.updateModalTitle()}setColor(e){this.color=e}closeModal(){this.store.dispatch((0,c.Jx)()),this.store.dispatch((0,c.Vd)({title:""}))}closeModalOnOverlay(e){!e.target.getAttribute("data-overlay")||this.closeModal()}addBoard(){"INVALID"!==this.boardForm.status&&this.store.dispatch((0,m.JU)({board:{...this.boardForm.value,background:this.color,userID:this.userID}}))}updateModalTitle(){this.store.dispatch((0,c.Vd)({title:"Create board"}))}get name(){return this.boardForm.get("name")}get description(){return this.boardForm.get("description")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-board-modal"]],decls:28,vars:7,consts:[["data-overlay","true",1,"modal-overlay",3,"click"],[1,"modal"],[1,"modal__header"],[1,"modal__title"],[1,"modal__close",3,"click"],[1,"modal__body"],[1,"form",3,"formGroup","submit"],[1,"form__items"],[1,"form__item"],["for","name",1,"form__input-label"],["type","text","id","name","placeholder","Enter name","formControlName","name",1,"form__input"],["class","form__error-label","for","name",4,"ngIf"],["for","description",1,"form__input-label"],["type","text","id","description","placeholder","Enter description","formControlName","description",1,"form__input"],["class","form__error-label","for","description",4,"ngIf"],[3,"clickEmitter"],["type","submit",1,"form__button-submit",3,"disabled"],["for","name",1,"form__error-label"],["for","description",1,"form__error-label"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(d){return n.closeModalOnOverlay(d)}),t.TgZ(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"span",4),t.NdJ("click",function(){return n.closeModal()}),t._uU(7,"\xd7"),t.qZA()(),t.TgZ(8,"div",5)(9,"form",6),t.NdJ("submit",function(){return n.addBoard(),n.closeModal()}),t.TgZ(10,"ul",7)(11,"li",8)(12,"label",9),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",10),t.YNc(15,A,2,0,"label",11),t.qZA(),t.TgZ(16,"li",8)(17,"label",12),t._uU(18,"Description"),t.qZA(),t._UZ(19,"input",13),t.YNc(20,w,2,0,"label",14),t.qZA(),t.TgZ(21,"li",8)(22,"label",12),t._uU(23,"Background"),t.qZA(),t.TgZ(24,"app-color-select",15),t.NdJ("clickEmitter",function(d){return n.setColor(d)}),t.qZA()(),t.TgZ(25,"li",8)(26,"button",16),t._uU(27," Create "),t.qZA()()()()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,5,n.title$)),t.xp6(5),t.Q6J("formGroup",n.boardForm),t.xp6(6),t.Q6J("ngIf",(null==n.name||null==n.name.errors?null:n.name.errors.required)&&(null==n.name?null:n.name.touched)),t.xp6(5),t.Q6J("ngIf",(null==n.description||null==n.description.errors?null:n.description.errors.required)&&(null==n.description?null:n.description.touched)),t.xp6(6),t.Q6J("disabled","INVALID"===n.boardForm.status))},dependencies:[s.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,v.N,s.Ov],styles:[".modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:grid;place-content:center}.modal[_ngcontent-%COMP%]{width:30rem;background-color:#fff;border-radius:5px;position:relative;padding:1rem}.modal__header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-bottom:1rem;border-bottom:1px solid lightgrey;margin-bottom:1rem;min-height:45px}.modal__title[_ngcontent-%COMP%]{font-weight:400;font-size:1.3rem}.modal__close[_ngcontent-%COMP%]{position:absolute;top:10px;right:25px;font-weight:400;font-size:2rem;cursor:pointer}.form__items[_ngcontent-%COMP%]{display:grid;gap:1rem}.form__input[_ngcontent-%COMP%]{width:100%;border:2px solid lightgrey;border-radius:5px;padding-inline:.5rem;min-height:2.6rem}.form__input[_ngcontent-%COMP%]:focus{border:2px solid lightgrey}.form__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form__button-submit[_ngcontent-%COMP%]{background-color:#0079bf;color:#fff;border:none;min-height:2.6rem;border-radius:5px;font-size:.9rem;width:100%}.form__button-submit[_ngcontent-%COMP%]:disabled{background-color:#0069d9c0;cursor:not-allowed}.form__input-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.3rem}.form__error-label[_ngcontent-%COMP%]{color:red;font-size:14px;font-weight:400}"]}),o})();function I(o,r){1&o&&(t.TgZ(0,"label",15),t._uU(1,"Field is required"),t.qZA())}function N(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",7),t.NdJ("submit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateBoard())}),t.TgZ(1,"ul",8)(2,"li",9)(3,"label",10),t._uU(4,"Name"),t.qZA(),t._UZ(5,"input",11),t.YNc(6,I,2,0,"label",12),t.qZA(),t.TgZ(7,"li",9)(8,"label",10),t._uU(9,"Background"),t.qZA(),t.TgZ(10,"app-color-select",13),t.NdJ("clickEmitter",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.setColor(a))}),t.qZA()(),t.TgZ(11,"li",9)(12,"button",14),t._uU(13," Edit "),t.qZA()()()()}if(2&o){const e=r.ngIf,n=t.oxw();t.Q6J("formGroup",n.boardForm),t.xp6(5),t.Q6J("value",e.name),t.xp6(1),t.Q6J("ngIf",(null==n.name||null==n.name.errors?null:n.name.errors.required)&&(null==n.name?null:n.name.touched)),t.xp6(4),t.Q6J("currentColor",e.background),t.xp6(2),t.Q6J("disabled","INVALID"===n.boardForm.status)}}let U=(()=>{class o{constructor(e){this.store=e,this.title$=this.store.select(c.nj)}get name(){return this.boardForm.get("name")}ngOnInit(){this.updateModalTitle(),this.editableBoard$=this.store.select(m.J9),this.editableBoard$.subscribe(e=>{this.editableBoard=e,this.boardForm=new l.cw({name:new l.NI(e?.name,[l.kI.required])})})}setColor(e){this.color=e}closeModal(){this.store.dispatch((0,c.Sl)()),this.store.dispatch((0,c.Vd)({title:""}))}closeModalOnOverlay(e){!e.target.getAttribute("data-overlay")||this.closeModal()}updateBoard(){"INVALID"!==this.boardForm.status&&(!this.editableBoard||(this.store.dispatch((0,m.wN)({board:{...this.editableBoard,name:this.boardForm.value.name,background:this.color}})),this.closeModal()))}updateModalTitle(){this.store.dispatch((0,c.Vd)({title:"Edit board"}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-board-modal"]],decls:11,vars:6,consts:[[1,"modal-background",3,"click"],[1,"modal"],[1,"modal__header"],[1,"modal__title"],[1,"modal__close",3,"click"],[1,"modal__body"],["class","form",3,"formGroup","submit",4,"ngIf"],[1,"form",3,"formGroup","submit"],[1,"form__items"],[1,"form__item"],["for","name",1,"form__input-label"],["type","text","id","name","placeholder","Enter name","formControlName","name",1,"form__input",3,"value"],["class","form__error-label","for","name",4,"ngIf"],[3,"currentColor","clickEmitter"],["type","submit",1,"form__button-submit",3,"disabled"],["for","name",1,"form__error-label"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(d){return n.closeModalOnOverlay(d)}),t.TgZ(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"span",4),t.NdJ("click",function(){return n.closeModal()}),t._uU(7,"\xd7"),t.qZA()(),t.TgZ(8,"div",5),t.YNc(9,N,14,5,"form",6),t.ALo(10,"async"),t.qZA()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,2,n.title$)),t.xp6(5),t.Q6J("ngIf",t.lcZ(10,4,n.editableBoard$)))},dependencies:[s.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,v.N,s.Ov],styles:[".modal-background[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:grid;place-content:center}.modal[_ngcontent-%COMP%]{width:30rem;background-color:#fff;border-radius:5px;position:relative;padding:1rem}.modal__header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-bottom:1rem;border-bottom:1px solid lightgrey;margin-bottom:1rem;min-height:45px}.modal__title[_ngcontent-%COMP%]{font-weight:400;font-size:1.3rem}.modal__close[_ngcontent-%COMP%]{position:absolute;top:10px;right:25px;font-weight:400;font-size:2rem;cursor:pointer}.form__items[_ngcontent-%COMP%]{display:grid;gap:1rem}.form__input[_ngcontent-%COMP%]{width:100%;border:2px solid lightgrey;border-radius:5px;padding-inline:.5rem;min-height:2.6rem}.form__input[_ngcontent-%COMP%]:focus{border:2px solid lightgrey}.form__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form__button-submit[_ngcontent-%COMP%]{background-color:#0079bf;color:#fff;border:none;min-height:2.6rem;border-radius:5px;font-size:.9rem;width:100%}.form__button-submit[_ngcontent-%COMP%]:disabled{background-color:#0069d9c0;cursor:not-allowed}.form__input-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.3rem}.form__error-label[_ngcontent-%COMP%]{color:red;font-size:14px;font-weight:400}"]}),o})(),z=(()=>{class o{constructor(e){this.host=e}ngOnInit(){const e=this.host.nativeElement;this.className&&e.classList.add(this.className),e.style.setProperty("--skeleton-rect-width",this.width??"100%"),e.style.setProperty("--skeleton-rect-height",this.height??"105.6px")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["skeleton-rect"]],hostAttrs:[1,"pulse"],decls:0,vars:0,template:function(e,n){},styles:["[_nghost-%COMP%]{display:block;width:var(--skeleton-rect-width);height:var(--skeleton-rect-height);background:rgb(239,241,246) no-repeat;border-radius:3px;animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}@keyframes pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}"]}),o})();var F=i(5968);function D(o,r){1&o&&(t.O4$(),t.TgZ(0,"svg",12),t._UZ(1,"path",13)(2,"path",14)(3,"path",15),t.qZA())}function L(o,r){1&o&&(t.O4$(),t.TgZ(0,"svg",12),t._UZ(1,"path",16),t.qZA())}function q(o,r){1&o&&(t.O4$(),t.TgZ(0,"svg",12),t._UZ(1,"path",17),t.qZA())}function E(o,r){if(1&o&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e.tasks?null:e.tasks.length,"")}}function $(o,r){if(1&o&&(t.TgZ(0,"div",9),t.YNc(1,D,4,0,"svg",10),t.YNc(2,L,2,0,"svg",10),t.YNc(3,q,2,0,"svg",10),t.YNc(4,E,2,1,"span",11),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","Todo"===e.name),t.xp6(1),t.Q6J("ngIf","In progress"===e.name),t.xp6(1),t.Q6J("ngIf","Done"===e.name),t.xp6(1),t.Q6J("ngIf","Archive"!==e.name)}}function Q(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"h3",21),t._uU(3,"Options"),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.toggleMenu(a))}),t._uU(5," \xd7 "),t.qZA()(),t.TgZ(6,"ul",23)(7,"li",24)(8,"button",25),t.NdJ("click",function(a){t.CHM(e);const d=t.oxw();return d.toggleUpdateBoardModal(),d.setEditableBoard(),t.KtG(d.toggleMenu(a))}),t._uU(9," Edit "),t.qZA()(),t.TgZ(10,"li",24)(11,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.deleteBoard())}),t._uU(12," Delete "),t.qZA()()()()}}const Y=function(o,r){return["/board",o,r]},V=function(o){return{backgroundColor:o}};let j=(()=>{class o{constructor(e){this.store=e,this.isMenuOpen=!1}toggleMenu(e){e.stopPropagation(),this.isMenuOpen=!this.isMenuOpen}toggleUpdateBoardModal(){this.store.dispatch((0,c.Sl)())}setEditableBoard(){this.store.dispatch((0,m.xO)({board:this.board}))}deleteBoard(){this.store.dispatch((0,m.L1)({board:this.board}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-board-tile"]],inputs:{board:"board"},decls:13,vars:16,consts:[[1,"board-tile",3,"routerLink","ngStyle"],[1,"board-tile__title"],[1,"board-tile__menu-button"],[3,"clickEmitter"],[1,"board-tile__description"],[1,"board-tile__tasks"],["class","board-tile__tasks-item",4,"ngFor","ngForOf"],[1,"board-tile__date"],["class","board-tile__menu",4,"ngIf"],[1,"board-tile__tasks-item"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16","class","board-tile__tasks-icon",4,"ngIf"],["class","board-tile__tasks-count",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"board-tile__tasks-icon"],["fill-rule","evenodd","d","M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"],["d","M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"],["fill-rule","evenodd","d","M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"],["fill-rule","evenodd","d","M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"],["fill-rule","evenodd","d","M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3.854 2.146a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 3.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 7.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"],[1,"board-tile__tasks-count"],[1,"board-tile__menu"],[1,"board-tile__menu-header"],[1,"board-tile__menu-title"],[1,"board-tile__menu-close-button",3,"click"],[1,"board-tile__menu-items"],[1,"board-tile__menu-item"],["type","button",1,"board-tile__menu-item-button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"app-button-more",3),t.NdJ("clickEmitter",function(d){return n.toggleMenu(d)}),t.qZA()(),t.TgZ(5,"p",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,$,5,4,"div",6),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.ALo(11,"date"),t.qZA(),t.YNc(12,Q,13,0,"div",8),t.qZA()),2&e&&(t.Q6J("routerLink",t.WLB(11,Y,n.board.name,n.board._id))("ngStyle",t.VKq(14,V,n.board.background)),t.uIk("data-id",n.board._id),t.xp6(2),t.Oqu(n.board.name),t.xp6(4),t.Oqu(n.board.description),t.xp6(2),t.Q6J("ngForOf",n.board.lists),t.xp6(2),t.hij(" ",t.xi3(11,8,n.board.created_date,"dd.MM.YYYY")," "),t.xp6(2),t.Q6J("ngIf",n.isMenuOpen))},dependencies:[s.sg,s.O5,s.PC,p.rH,F.n,s.uU],styles:['.board-tile[_ngcontent-%COMP%]{min-height:6.6rem;padding:.5rem;border-radius:5px;color:#fff;cursor:pointer;position:relative;display:grid;grid-template-areas:"title button" "description description" "tasks date";grid-template-columns:11fr 1fr;grid-template-rows:max-content max-content auto}.board-tile[_ngcontent-%COMP%]:hover   .board-tile__menu-button[_ngcontent-%COMP%], .board-tile[_ngcontent-%COMP%]:hover   .board-tile__tasks[_ngcontent-%COMP%], .board-tile[_ngcontent-%COMP%]:hover   .board-tile__date[_ngcontent-%COMP%]{visibility:visible}.board-tile__title[_ngcontent-%COMP%]{font-size:1.1rem;grid-area:title}.board-tile__menu-button[_ngcontent-%COMP%]{grid-area:button;justify-self:flex-end;visibility:hidden}.board-tile__description[_ngcontent-%COMP%]{font-size:.85rem;grid-area:description}.board-tile__tasks[_ngcontent-%COMP%]{display:flex;gap:10px;grid-area:tasks;align-self:flex-end;visibility:hidden}.board-tile__tasks-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-star;gap:5px}.board-tile__tasks-item[_ngcontent-%COMP%]   .board-tile__tasks-icon[_ngcontent-%COMP%]{width:1rem;height:1rem}.board-tile__tasks-item[_ngcontent-%COMP%]   .board-tile__tasks-count[_ngcontent-%COMP%]{font-size:.9rem;line-height:1}.board-tile__date[_ngcontent-%COMP%]{font-size:.9rem;grid-area:date;align-self:flex-end;visibility:hidden}.board-tile__menu[_ngcontent-%COMP%]{position:absolute;top:40px;right:5px;width:10rem;background-color:#fff;border-radius:3px;box-shadow:var(--ds-shadow-overlay, 0 8px 16px -4px rgba(9, 30, 66, .2509803922), 0 0 0 1px rgba(9, 30, 66, .0784313725));z-index:10}.board-tile__menu[_ngcontent-%COMP%]   .board-tile__menu-header[_ngcontent-%COMP%]{display:flex;color:#000;font-size:.8rem;justify-content:center;align-items:center;margin-inline:.6rem;border-bottom:1px solid lightgray;padding-block:.5rem}.board-tile__menu[_ngcontent-%COMP%]   .board-tile__menu-title[_ngcontent-%COMP%]{font-weight:400}.board-tile__menu[_ngcontent-%COMP%]   .board-tile__menu-close-button[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;font-size:1.3rem;width:1.6rem;height:1.6rem;display:grid;place-content:center}.board-tile__menu[_ngcontent-%COMP%]   .board-tile__menu-item[_ngcontent-%COMP%]{min-height:2rem;padding-inline:.6rem}.board-tile__menu[_ngcontent-%COMP%]   .board-tile__menu-item[_ngcontent-%COMP%]:hover{background-color:#0000001a}.board-tile__menu[_ngcontent-%COMP%]   .board-tile__menu-item-button[_ngcontent-%COMP%]{width:100%;height:100%;text-align:left;font-size:.94rem}.board-tile__menu[_ngcontent-%COMP%]   .board-tile__menu-items[_ngcontent-%COMP%]{display:grid;padding-block:.6rem}']}),o})();function H(o,r){1&o&&(t.ynx(0),t._UZ(1,"skeleton-rect")(2,"skeleton-rect")(3,"skeleton-rect")(4,"skeleton-rect")(5,"skeleton-rect")(6,"skeleton-rect"),t.BQk())}function G(o,r){1&o&&t._UZ(0,"app-board-tile",8),2&o&&t.Q6J("board",r.$implicit)}function S(o,r){if(1&o&&(t.ynx(0),t.YNc(1,G,1,1,"app-board-tile",7),t.ALo(2,"async"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.boards$))}}function K(o,r){1&o&&t._UZ(0,"app-add-board-modal")}function X(o,r){1&o&&t._UZ(0,"app-edit-board-modal")}const W=[{path:"",component:(()=>{class o{constructor(e){this.store=e,this.isAddBoardModalOpen$=this.store.select(c.NA),this.isEditBoardModalOpen$=this.store.select(c.w7),this.toolbarValues$=this.store.select(x.mt),this.boards$=this.store.select(m.wf),this.user$=this.store.select(f.dy),this.status$=this.store.select(m.mW)}ngOnInit(){this.loadUser(),this.user$.subscribe(e=>{!e||this.loadBoards(e._id)}),this.boards$=(0,k.a)([this.boards$,this.toolbarValues$.pipe((0,u.U)(e=>e.search)),this.toolbarValues$.pipe((0,u.U)(e=>e.sort)),this.toolbarValues$.pipe((0,u.U)(e=>e.order))]).pipe((0,u.U)(([e,n,a,d])=>{const O=["new","progress","done"];let b;const y=[...e].filter(_=>_.name.toLocaleLowerCase().includes(n.toLocaleLowerCase()));return b="name"===a||"created_date"===a?[...y].sort((_,C)=>_[a].toLocaleLowerCase().localeCompare(C[a].toLocaleLowerCase())):[...y].sort((_,C)=>{let ot=_.lists[O.indexOf(a)].tasks.length;return C.lists[O.indexOf(a)].tasks.length-ot}),"asc"===d?b:b.reverse()}))}loadUser(){this.store.dispatch((0,f.II)())}loadBoards(e){this.store.dispatch((0,m.WW)({id:e}))}toggleAddBoardModal(){this.store.dispatch((0,c.Jx)())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:16,vars:13,consts:[[1,"container"],[1,"dashboard"],["heading","Dashboard",3,"isDashboardPage"],[1,"boards-container"],[1,"add-board-tile",3,"click"],[1,"add-board-tile__title"],[4,"ngIf"],[3,"board",4,"ngFor","ngForOf"],[3,"board"]],template:function(e,n){1&e&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"section",1),t._UZ(3,"app-toolbar",2),t.TgZ(4,"ul",3)(5,"div",4),t.NdJ("click",function(){return n.toggleAddBoardModal()}),t.TgZ(6,"span",5),t._uU(7,"Create new board"),t.qZA()(),t.YNc(8,H,7,0,"ng-container",6),t.ALo(9,"async"),t.YNc(10,S,3,3,"ng-container",6),t.ALo(11,"async"),t.qZA()()(),t.YNc(12,K,1,0,"app-add-board-modal",6),t.ALo(13,"async"),t.YNc(14,X,1,0,"app-edit-board-modal",6),t.ALo(15,"async")),2&e&&(t.xp6(3),t.Q6J("isDashboardPage",!0),t.xp6(5),t.Q6J("ngIf","loading"===t.lcZ(9,5,n.status$)),t.xp6(2),t.Q6J("ngIf","success"===t.lcZ(11,7,n.status$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,9,n.isAddBoardModalOpen$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(15,11,n.isEditBoardModalOpen$)))},dependencies:[s.sg,s.O5,B.G,P.n,J,U,z,j,s.Ov],styles:[".container[_ngcontent-%COMP%]{width:min(100% - 2rem,80rem);margin-inline:auto}.dashboard[_ngcontent-%COMP%]{padding:2rem}.dashboard__content[_ngcontent-%COMP%]{padding-inline:10rem}.boards-container[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(4,1fr)}.add-board-tile[_ngcontent-%COMP%]{background-color:#f5f6f8;min-height:6.6rem;display:grid;place-content:center;border-radius:5px;cursor:pointer}.add-board-tile[_ngcontent-%COMP%]:hover{background-color:#091e4214}.add-board-tile__title[_ngcontent-%COMP%]{font-weight:400;font-size:1rem}"]}),o})()}];let R=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(W),h.JF,p.Bz]}),o})();var tt=i(9544);let et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:h.TP,useClass:tt.s,multi:!0}],imports:[s.ez,Z.I,h.JF,l.u5,p.Bz,R,T.m]}),o})()}}]);